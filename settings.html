<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Settings - AI Chat Assistant</title>
    <link rel="stylesheet" href="settings-styles.css">
    <style>
        .banner {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: #333;
            color: white;
            padding: 15px;
            text-align: center;
            z-index: 1000;
            display: none;
        }
        
        .banner.show {
            display: block;
        }
        
        .banner input {
            padding: 8px;
            margin: 0 10px;
            border: none;
            border-radius: 4px;
            width: 300px;
        }
        
        .banner button {
            padding: 8px 15px;
            margin: 0 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .banner .save-btn {
            background-color: #4CAF50;
            color: white;
        }
        
        .banner .cancel-btn {
            background-color: #f44336;
            color: white;
        }
    </style>
</head>
<body>
    <div class="banner" id="endpoint-banner">
        <span>Enter your Ollama API endpoint:</span>
        <input type="text" id="banner-endpoint" placeholder="e.g., http://localhost:11434">
        <button class="save-btn" onclick="saveEndpoint()">Save</button>
        <button class="cancel-btn" onclick="hideBanner()">Cancel</button>
    </div>
    
    <div class="settings-container">
        <div class="settings-header">
            <h1>Settings</h1>
            <button class="back-button" onclick="window.location.href='index.html'">Back to Chat</button>
        </div>
        
        <div class="settings-content">
            <div class="setting-group">
                <h2>General</h2>
                <div class="setting-item">
                    <label for="theme">Theme</label>
                    <select id="theme">
                        <option value="light">Light</option>
                        <option value="dark" selected>Dark</option>
                        <option value="auto">Auto</option>
                    </select>
                </div>
                
                <div class="setting-item">
                    <label for="language">Language</label>
                    <select id="language">
                        <option value="en">English</option>
                        <option value="es">Spanish</option>
                        <option value="fr">French</option>
                        <option value="de">German</option>
                    </select>
                </div>
            </div>
            
            <div class="setting-group">
                <h2>AI Model</h2>
                <div class="setting-item">
                    <label for="model">Model</label>
                    <select id="model">
                        <option value="gpt-3.5">GPT-3.5</option>
                        <option value="gpt-4" selected>GPT-4</option>
                        <option value="claude">Claude</option>
                        <option value="llama">Llama 2</option>
                    </select>
                </div>
                
                <div class="setting-item">
                    <label for="temperature">Creativity Level</label>
                    <input type="range" id="temperature" min="0" max="1" step="0.1" value="0.7">
                    <span id="temperature-value">0.7</span>
                </div>
            </div>
            
            <div class="setting-group">
                <h2>Privacy</h2>
                <div class="setting-item checkbox">
                    <input type="checkbox" id="save-history" checked>
                    <label for="save-history">Save chat history</label>
                </div>
                
                <div class="setting-item checkbox">
                    <input type="checkbox" id="auto-save" checked>
                    <label for="auto-save">Auto-save conversations</label>
                </div>
                
                <div class="setting-item checkbox">
                    <input type="checkbox" id="analytics">
                    <label for="analytics">Send anonymous analytics</label>
                </div>
            </div>
            
            <div class="setting-group">
                <h2>Advanced</h2>
                <div class="setting-item">
                    <label for="ollama-endpoint">Ollama API Endpoint</label>
                    <input type="text" id="ollama-endpoint" placeholder="e.g., http://localhost:11434">
                    <p class="help-text">Enter your Ollama API endpoint (e.g., http://localhost:11434)</p>
                </div>
                
                <div class="setting-item">
                    <label for="max-tokens">Max Tokens</label>
                    <input type="number" id="max-tokens" value="1000" min="100" max="4000">
                </div>
                
                <div class="setting-item">
                    <label for="timeout">Timeout (seconds)</label>
                    <input type="number" id="timeout" value="30" min="5" max="120">
                </div>
            </div>
        </div>
        
        <div class="settings-footer">
            <button class="reset-button">Reset to Defaults</button>
            <button class="save-button">Save Settings</button>
        </div>
    </div>

    <script>
        // Check if endpoint is saved and show banner if not
        window.addEventListener('load', function() {
            const savedEndpoint = localStorage.getItem('ollamaEndpoint');
            if (!savedEndpoint) {
                showBanner();
            }
        });
        
        function showBanner() {
            document.getElementById('endpoint-banner').classList.add('show');
        }
        
        function hideBanner() {
            document.getElementById('endpoint-banner').classList.remove('show');
        }
        
        function saveEndpoint() {
            const endpoint = document.getElementById('banner-endpoint').value;
            if (endpoint) {
                localStorage.setItem('ollamaEndpoint', endpoint);
                hideBanner();
            }
        }
    </script>
</body>
</html>
