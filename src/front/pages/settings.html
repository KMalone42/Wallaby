<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Settings - AI Chat Assistant</title>
    <link rel="stylesheet" href="css/styles.css">
    <style>
        /* same has header in styles*/
        /* lets the label + toggle sit on one line */
        .setting-item__top{
          display:flex;
          align-items:left;
        }

        /* collapsible panel */
        .setting-panel{
          display:none; /* default to not visible */
          overflow:hidden;
          max-height:0;
          opacity:0;
          transform: translateY(-6px);
          transition: max-height 220ms ease, opacity 220ms ease, transform 220ms ease;
          margin-top:10px;
        } .setting-panel.is-open{ max-height:120px; /* increase if you add more stuff */
          display:block;
          opacity:1;
          transform: translateY(0);
        }

        /* slider row layout */
        .slider-row{
          display:flex;
          align-items:center;
          gap:12px;
        }

        .slider-row input[type="range"]{
          flex:1;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="container-header">
            <h1>Settings</h1>
            <button class="back-button" onclick="window.location.href='index.html'">Back to Chat</button>
        </div>
        
        <div class="settings-content">
            <div class="setting-group">
                <h2>General</h2>
                <div class="setting-item">
                    <label for="theme">Theme</label>
                    <select id="theme">
                        <option value="light">Light</option>
                        <option value="dark">Dark</option>
                        <option value="system">System</option>
                    </select>
                </div>
                
                <div class="setting-item">
                    <label for="language">Language</label>
                    <select id="language">
                        <option value="en">English</option>
                        <option value="es">Spanish</option>
                        <option value="fr">French</option>
                        <option value="de">German</option>
                    </select>
                </div>
            </div>
            
            <div class="setting-group">
                <h2>AI Model</h2>
                <div class="setting-item">
                    <label for="model">Model</label>
                    <input type="text" id="model" placeholder="e.g., deepseek-r1:latest">
                </div>
                <div class="setting-item">
                    <label for="ollama-endpoint">Ollama API Endpoint</label>
                    <input type="text" id="ollama-endpoint" placeholder="e.g., http://localhost:11434">
                    <p class="help-text">Enter your Ollama API endpoint (e.g., http://localhost:11434)</p>
                </div>
                <div class="setting-item setting-item--stack">
                  <div class="setting-item__top">
                    <label for="temperature">Creativity Level</label>

                    <label class="toggle">
                      <input id="tempEnable" type="checkbox" />
                      <span class="toggle-box" aria-hidden="true"></span>
                      <span class="toggle-label">Enable</span>
                    </label>
                  </div>

                  <div id="temperatureSlider" class="setting-panel" aria-hidden="true">
                    <div class="slider-row">
                      <input type="range" id="temperature" min="0" max="1" step="0.1" value="0.7">
                      <span id="temperature-value">0.7</span>
                    </div>
                    <p class="help-text">Higher = more creative, lower = more deterministic.</p>
                  </div>
                </div>
            </div>

            <div class="setting-group">
                <h2>Advanced</h2>
                <div class="setting-item">
                    <label for="prependPrompt">Prepend Prompt</label>
                    <input type="text" id="prependPrompt" placeholder="e.g., YOU ARE A SENIOR DEVELOPER">
                </div>
                <div class="setting-item">
                    <label for="appendPrompt">Append Prompt</label>
                    <input type="text" id="appendPrompt" placeholder="e.g., print 'moo' if you understand">
                </div>
                <div class="setting-item">
                    <label for="max-tokens">Max Tokens</label>
                    <input type="number" id="max-tokens" value="1000" min="100" max="4000">
                </div>
                <div class="setting-item">
                    <label for="timeout">Timeout (seconds)</label>
                    <input type="number" id="timeout" value="30" min="5" max="120">
                </div>
            </div>

            <div class="setting-group">
                <h2>Privacy</h2>
                <div class="setting-item checkbox">
                    <input type="checkbox" id="save-history">
                    <label for="save-history">Save chat history</label>
                </div>
                
                <div class="setting-item checkbox">
                    <input type="checkbox" id="auto-save">
                    <label for="auto-save">Auto-save conversations</label>
                </div>
                
                <div class="setting-item checkbox">
                    <input type="checkbox" id="analytics">
                    <label for="analytics">Send anonymous analytics</label>
                </div>
            </div>
            
        </div>
        
        <div class="container-footer">
            <button class="reset-button">Reset to Defaults</button>
            <button class="save-button">Save Settings</button>
        </div>
    </div>
    <script src="js/settings.page.js" type="module"></script>
</body>
</html>
